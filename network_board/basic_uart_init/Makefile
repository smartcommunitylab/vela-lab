DEFINES+=PROJECT_CONF_H=\"project-conf.h\"
CONTIKI_PROJECT = vela_node

all: $(CONTIKI_PROJECT)

CONTIKI=${CONTIKI_ROOT}
COMMON_DIR=../../common

CONTIKI_WITH_RIME = 1
CFLAGS += -DROM_BOOTLOADER_ENABLE=1
CFLAGS += -DSERIAL_LINE_CONF_BUFSIZE=256
CFLAGS += -DVERSION_STRING=$(VERSION_STRING)
CFLAGS += -DCC26XX_UART_CONF_BAUD_RATE=115200

COMMON_DIR_REL_PATH=$(shell python -c "import os.path; print os.path.relpath('${COMMON_DIR}', '${CONTIKI}')")
$(info $$COMMON_DIR_REL_PATH is: ${COMMON_DIR_REL_PATH})

MODULES+=${COMMON_DIR_REL_PATH}/lib/uart_util
MODULES+=${COMMON_DIR_REL_PATH}/inc

PROJECT_SOURCEFILES += vela_uart.c
PROJECT_SOURCEFILES += vela_sender.c


BOARD=launchpad/cc2650
#BOARD=srf06/cc26xx
BSL_FLAGS += -b 115200

include $(CONTIKI)/Makefile.include
